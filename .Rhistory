warning()
clear
warning()
#plotting accumulative data
for (i in c(1:3))
{
if (i==1)
{
plot(c(1:which.max(mdy(AND_data$date))),AND_aCases,
xlab = "Days",
ylab = "Accumulative New Cases",
main = national[i],
names.arg = AND_data$date[1:which.max(mdy(AND_data$date))],
col = "yellow",
pch=20)
points(c(1:which.max(mdy(AND_data$date))),AND_aDeaths,col="red",pch=20)
}
else if (i==2)
{
plot(c(1:which.max(mdy(SVN_data$date))),SVN_aCases,
xlab = "Days",
ylab = "Accumulative New Cases",
main = national[i],
names.arg = SVN_data$date[1:which.max(mdy(SVN_data$date))],
col = "yellow",
pch=20)
points(c(1:which.max(mdy(SVN_data$date))),SVN_aDeaths,col="red",pch=20)
}
else if (i==3)
{
plot(c(1:which.max(mdy(GBR_data$date))),GBR_aCases,
xlab = "Days",
ylab = "Accumulative New Cases",
main = national[i],
names.arg = GBR_data$date[1:which.max(mdy(GBR_data$date))],
col = "yellow",
pch=20)
points(c(1:which.max(mdy(GBR_data$date))),GBR_aDeaths,col="red",pch=20)
}
}
rm(i,sumCases,sumDeaths)
warning()
# Set Library
library("tidyverse")
library("plyr")
library("dplyr")
library("moments")
library("csv")
library("csvread")
library("readr")
library("rlist")
library("lubridate")
# Set Data
setwd("D:/Khanh/BK/HK212/Discrete Structures/CODE")      # path
data<-read_csv("owid-covid-data.csv")     # data
iso_code<-data[["iso_code"]]              # iso_code
continent<-data[["continent"]]            # continent
location<-data[["location"]]              # location
date<-data[["date"]]                      # date
new_cases<-data[["new_cases"]]            # new_cases
new_deaths<-data[["new_deaths"]]          # new_deaths
national<-c("Andorra", "Slovenia", "United Kingdom")
c1_data<-subset(data, location == national[1] & new_cases >= 0 & new_deaths >= 0)
c2_data<-subset(data, location == national[2] & new_cases >= 0 & new_deaths >= 0)
c3_data<-subset(data, location == national[3] & new_cases >= 0 & new_deaths >= 0)
# Processing
# Sorting needed countries (by date)
AND_data <- (data %>% filter_all(any_vars(. %in% c("Andorra"))))
SVN_data <- (data %>% filter_all(any_vars(. %in% c("Slovenia"))))
GBR_data <- (data %>% filter_all(any_vars(. %in% c("United Kingdom"))))
# Sorting needed countries (removing false data)
AND_data<-filter(AND_data,!is.na(AND_data$new_cases)&!is.na(AND_data$new_deaths)&AND_data$new_cases>=0&AND_data$new_deaths>=0,.preserve=FALSE)
SVN_data<-filter(SVN_data,!is.na(SVN_data$new_cases)&!is.na(SVN_data$new_deaths)&SVN_data$new_cases>=0&SVN_data$new_deaths>=0,.preserve=FALSE)
GBR_data<-filter(GBR_data,!is.na(GBR_data$new_cases)&!is.na(GBR_data$new_deaths)&GBR_data$new_cases>=0&GBR_data$new_deaths>=0,.preserve=FALSE)
# Sorting data by date
AND_data %>% arrange(mdy(AND_data$date))
SVN_data %>% arrange(mdy(SVN_data$date))
GBR_data %>% arrange(mdy(GBR_data$date))
# Plotting
# Last 7 days plotting
# New cases
for (i in c(1:3))
{
color<- rgb (208 / 255, 25 / 255, 31 / 255)
if (i == 2)
color<-rgb (15 / 255, 142 / 255, 11 / 255)
else if (i == 3)
color<-rgb (36 / 255, 41 / 255, 172 / 255)
par(mar=c(3.9,3.9,1.5,0.3))
if (i==1)
barplot(AND_data$new_cases[(which.max(mdy(AND_data$date))-6):which.max(mdy(AND_data$date))],
xlab = "Days",
ylab = "New Cases",
main = national[i],
names.arg = AND_data$date[(which.max(mdy(AND_data$date))-6):which.max(mdy(AND_data$date))],
col = color)
else if (i==2)
barplot(SVN_data$new_cases[(which.max(mdy(SVN_data$date))-6):which.max(mdy(SVN_data$date))],
xlab = "Days",
ylab = "New Cases",
main = national[i],
names.arg = SVN_data$date[(which.max(mdy(SVN_data$date))-6):which.max(mdy(SVN_data$date))],
col = color)
else if (i==3)
barplot(GBR_data$new_cases[(which.max(mdy(GBR_data$date))-6):which.max(mdy(GBR_data$date))],
xlab = "Days",
ylab = "New Cases",
main = national[i],
names.arg = GBR_data$date[(which.max(mdy(GBR_data$date))-6):which.max(mdy(GBR_data$date))],
col = color)
}
# New deaths
for (i in c(1:3))
{
color<- rgb (208 / 255, 25 / 255, 31 / 255)
if (i == 2)
color<-rgb (15 / 255, 142 / 255, 11 / 255)
else if (i == 3)
color<-rgb (36 / 255, 41 / 255, 172 / 255)
par(mar=c(3.9,3.9,1.5,0.3))
if (i==1)
barplot(AND_data$new_deaths[(which.max(mdy(AND_data$date))-6):which.max(mdy(AND_data$date))],
xlab = "Days",
ylab = "New Deaths",
main = national[i],
names.arg = AND_data$date[(which.max(mdy(AND_data$date))-6):which.max(mdy(AND_data$date))],
col = color)
else if (i==2)
barplot(SVN_data$new_deaths[(which.max(mdy(SVN_data$date))-6):which.max(mdy(SVN_data$date))],
xlab = "Days",
ylab = "New Deaths",
main = national[i],
names.arg = SVN_data$date[(which.max(mdy(SVN_data$date))-6):which.max(mdy(SVN_data$date))],
col = color)
else if (i==3)
barplot(GBR_data$new_deaths[(which.max(mdy(GBR_data$date))-6):which.max(mdy(GBR_data$date))],
xlab = "Days",
ylab = "New Deaths",
main = national[i],
names.arg = GBR_data$date[(which.max(mdy(GBR_data$date))-6):which.max(mdy(GBR_data$date))],
col = color)
}
# General plotting
# New case plotting
for (i in c(1:3))
{
color<- rgb (208 / 255, 25 / 255, 31 / 255)
if (i == 2)
color<-rgb (15 / 255, 142 / 255, 11 / 255)
else if (i == 3)
color<-rgb (36 / 255, 41 / 255, 172 / 255)
par(mar=c(3.9,3.9,1.5,0.3))
if (i==1)
barplot(AND_data$new_cases[1:which.max(mdy(AND_data$date))],
xlab = "Days",
ylab = "New Cases",
main = national[i],
names.arg = AND_data$date[1:which.max(mdy(AND_data$date))],
col = color)
else if (i==2)
barplot(SVN_data$new_cases[1:which.max(mdy(SVN_data$date))],
xlab = "Days",
ylab = "New Cases",
main = national[i],
names.arg = SVN_data$date[1:which.max(mdy(SVN_data$date))],
col = color)
else if (i==3)
barplot(GBR_data$new_cases[1:which.max(mdy(GBR_data$date))],
xlab = "Days",
ylab = "New Cases",
main = national[i],
names.arg = GBR_data$date[1:which.max(mdy(GBR_data$date))],
col = color)
}
# New deaths plotting
for (i in c(1:3))
{
color<- rgb (208 / 255, 25 / 255, 31 / 255)
if (i == 2)
color<-rgb (15 / 255, 142 / 255, 11 / 255)
else if (i == 3)
color<-rgb (36 / 255, 41 / 255, 172 / 255)
par(mar=c(3.9,3.9,1.5,0.3))
if (i==1)
barplot(AND_data$new_deaths[1:which.max(mdy(AND_data$date))],
xlab = "Days",
ylab = "New Deaths",
main = national[i],
names.arg = AND_data$date[1:which.max(mdy(AND_data$date))],
col = color)
else if (i==2)
barplot(SVN_data$new_deaths[1:which.max(mdy(SVN_data$date))],
xlab = "Days",
ylab = "New Deaths",
main = national[i],
names.arg = SVN_data$date[1:which.max(mdy(SVN_data$date))],
col = color)
else if (i==3)
barplot(GBR_data$new_deaths[1:which.max(mdy(GBR_data$date))],
xlab = "Days",
ylab = "New Deaths",
main = national[i],
names.arg = GBR_data$date[1:which.max(mdy(GBR_data$date))],
col = color)
}
rm(i,color)
# Plotting
# Last 7 days plotting
# New cases
for (i in c(1:3))
{
color<- rgb (208 / 255, 25 / 255, 31 / 255)
if (i == 2)
color<-rgb (15 / 255, 142 / 255, 11 / 255)
else if (i == 3)
color<-rgb (36 / 255, 41 / 255, 172 / 255)
par(mar=c(3.9,3.9,1.5,0.3))
if (i==1)
barplot(AND_data$new_cases[(which.max(mdy(AND_data$date))-6):which.max(mdy(AND_data$date))],
xlab = "Days",
ylab = "New Cases",
main = national[i],
names.arg = AND_data$date[(which.max(mdy(AND_data$date))-6):which.max(mdy(AND_data$date))],
col = color)
else if (i==2)
barplot(SVN_data$new_cases[(which.max(mdy(SVN_data$date))-6):which.max(mdy(SVN_data$date))],
xlab = "Days",
ylab = "New Cases",
main = national[i],
names.arg = SVN_data$date[(which.max(mdy(SVN_data$date))-6):which.max(mdy(SVN_data$date))],
col = color)
else if (i==3)
barplot(GBR_data$new_cases[(which.max(mdy(GBR_data$date))-6):which.max(mdy(GBR_data$date))],
xlab = "Days",
ylab = "New Cases",
main = national[i],
names.arg = GBR_data$date[(which.max(mdy(GBR_data$date))-6):which.max(mdy(GBR_data$date))],
col = color)
}
# New deaths
for (i in c(1:3))
{
color<- rgb (208 / 255, 25 / 255, 31 / 255)
if (i == 2)
color<-rgb (15 / 255, 142 / 255, 11 / 255)
else if (i == 3)
color<-rgb (36 / 255, 41 / 255, 172 / 255)
par(mar=c(3.9,3.9,1.5,0.3))
if (i==1)
barplot(AND_data$new_deaths[(which.max(mdy(AND_data$date))-6):which.max(mdy(AND_data$date))],
xlab = "Days",
ylab = "New Deaths",
main = national[i],
names.arg = AND_data$date[(which.max(mdy(AND_data$date))-6):which.max(mdy(AND_data$date))],
col = color)
else if (i==2)
barplot(SVN_data$new_deaths[(which.max(mdy(SVN_data$date))-6):which.max(mdy(SVN_data$date))],
xlab = "Days",
ylab = "New Deaths",
main = national[i],
names.arg = SVN_data$date[(which.max(mdy(SVN_data$date))-6):which.max(mdy(SVN_data$date))],
col = color)
else if (i==3)
barplot(GBR_data$new_deaths[(which.max(mdy(GBR_data$date))-6):which.max(mdy(GBR_data$date))],
xlab = "Days",
ylab = "New Deaths",
main = national[i],
names.arg = GBR_data$date[(which.max(mdy(GBR_data$date))-6):which.max(mdy(GBR_data$date))],
col = color)
}
# General plotting
# New case plotting
for (i in c(1:3))
{
color<- rgb (208 / 255, 25 / 255, 31 / 255)
if (i == 2)
color<-rgb (15 / 255, 142 / 255, 11 / 255)
else if (i == 3)
color<-rgb (36 / 255, 41 / 255, 172 / 255)
par(mar=c(3.9,3.9,1.5,0.3))
if (i==1)
barplot(AND_data$new_cases[1:which.max(mdy(AND_data$date))],
xlab = "Days",
ylab = "New Cases",
main = national[i],
names.arg = AND_data$date[1:which.max(mdy(AND_data$date))],
col = color)
else if (i==2)
barplot(SVN_data$new_cases[1:which.max(mdy(SVN_data$date))],
xlab = "Days",
ylab = "New Cases",
main = national[i],
names.arg = SVN_data$date[1:which.max(mdy(SVN_data$date))],
col = color)
else if (i==3)
barplot(GBR_data$new_cases[1:which.max(mdy(GBR_data$date))],
xlab = "Days",
ylab = "New Cases",
main = national[i],
names.arg = GBR_data$date[1:which.max(mdy(GBR_data$date))],
col = color)
}
# New deaths plotting
for (i in c(1:3))
{
color<- rgb (208 / 255, 25 / 255, 31 / 255)
if (i == 2)
color<-rgb (15 / 255, 142 / 255, 11 / 255)
else if (i == 3)
color<-rgb (36 / 255, 41 / 255, 172 / 255)
par(mar=c(3.9,3.9,1.5,0.3))
if (i==1)
barplot(AND_data$new_deaths[1:which.max(mdy(AND_data$date))],
xlab = "Days",
ylab = "New Deaths",
main = national[i],
names.arg = AND_data$date[1:which.max(mdy(AND_data$date))],
col = color)
else if (i==2)
barplot(SVN_data$new_deaths[1:which.max(mdy(SVN_data$date))],
xlab = "Days",
ylab = "New Deaths",
main = national[i],
names.arg = SVN_data$date[1:which.max(mdy(SVN_data$date))],
col = color)
else if (i==3)
barplot(GBR_data$new_deaths[1:which.max(mdy(GBR_data$date))],
xlab = "Days",
ylab = "New Deaths",
main = national[i],
names.arg = GBR_data$date[1:which.max(mdy(GBR_data$date))],
col = color)
}
rm(i,color)
# Set Library
library("tidyverse")
library("plyr")
library("dplyr")
library("moments")
library("csv")
library("csvread")
library("readr")
library("rlist")
library("lubridate")
# Set Data
setwd("D:/Khanh/BK/HK212/Discrete Structures/CODE")      # path
data<-read_csv("owid-covid-data.csv")     # data
iso_code<-data[["iso_code"]]              # iso_code
continent<-data[["continent"]]            # continent
location<-data[["location"]]              # location
date<-data[["date"]]                      # date
new_cases<-data[["new_cases"]]            # new_cases
new_deaths<-data[["new_deaths"]]          # new_deaths
national<-c("Andorra", "Slovenia", "United Kingdom")
c1_data<-subset(data, location == national[1] & new_cases >= 0 & new_deaths >= 0)
c2_data<-subset(data, location == national[2] & new_cases >= 0 & new_deaths >= 0)
c3_data<-subset(data, location == national[3] & new_cases >= 0 & new_deaths >= 0)
# 1/ Du lieu duoc thu thap vao cac nam
date<-mdy(data$date)
max(format(date,format="%Y"))
min(format(date,format="%Y"))
# 2/ So luong dat nuoc va dinh danh
length(table(data$iso_code))
head(table(data$iso_code),10)
# 1/ Du lieu duoc thu thap vao cac nam
date<-mdy(data$date)
ans1 = max(format(date,format="%Y"))
ans2 = min(format(date,format="%Y"))
cat("Du lieu duoc thu thap vao cac nam: ", ans1, " - ", ans2, '\n')
# 2/ So luong dat nuoc va dinh danh
length(table(data$iso_code))
head(table(data$iso_code),10)
View(data)
# 2/ So luong dat nuoc va dinh danh
ans1<-length(table(data$iso_code))
ans2<-head(table(data$iso_code),10)
cat("So luong dat nuoc: ", ans1)
cat("So luong dat nuoc:", ans1)
# 1/ Du lieu duoc thu thap vao cac nam
date<-mdy(data$date)
ans1<-max(format(date,format="%Y"))
ans2<-min(format(date,format="%Y"))
cat("Du lieu duoc thu thap vao cac nam:", ans1, "-", ans2, '\n')
# 2/ So luong dat nuoc va dinh danh
ans1<-length(table(data$iso_code))
ans2<-head(table(data$iso_code),10)
cat("So luong dat nuoc:", ans1)
cat("Dinh danh: ", ans2)
head(table(data$iso_code), 10)
cat("So luong dat nuoc:", ans1)
cat("Dinh danh:\n")
head(table(data$iso_code), 10)
cat("Dinh danh:")
head(table(data$iso_code), 10)
# 3/ So luong chau luc trong tap mau:
ctn<-continent[!duplicated(continent)]
# 3/ So luong chau luc trong tap mau:
ctn<-continent[!duplicated(continent)]
cat("So luong chau luc trong tap mau:", length(ctn))
# 3/ So luong chau luc trong tap mau:
ctn<-continent[!duplicated(continent)]
ctn<-na.omit(ctn)
cat("So luong chau luc trong tap mau:", length(ctn))
# 4/ So luong du lieu thu thap duoc trong tung chau luc va tong so
length(table(data$continent))
# 4/ So luong du lieu thu thap duoc trong tung chau luc va tong so
cat("So luong du lieu thu thap duoc trong tung chau luc va tong so:")
length(table(data$continent))
table(data$continent)
# 2/ So luong dat nuoc va dinh danh
cat("So luong dat nuoc va dinh danh:")
ans1<-length(table(data$iso_code))
cat("So luong dat nuoc:", ans1)
cat("Dinh danh:")
head(table(data$iso_code), 10)
table(data$iso_code)
# 2/ So luong dat nuoc va dinh danh
ans1<-length(table(data$iso_code))
lct<-location[!duplicated(location)]
ans2<-head(lct, 10)
cat("So luong dat nuoc:", ans1)
cat("Dinh danh:", lct)
# 2/ So luong dat nuoc va dinh danh
ans1<-length(table(data$iso_code))
isc<-iso_code[!duplicated(iso_code)]
ans2<-head(isc, 10)
cat("So luong dat nuoc:", ans1)
cat("Dinh danh:", ans2)
# 3/ So luong chau luc trong tap mau
ctn<-continent[!duplicated(continent)]
ctn<-na.omit(ctn)
cat("So luong chau luc trong tap mau:", length(ctn))
# 4/ So luong du lieu thu thap duoc trong tung chau luc va tong so
cat("So luong du lieu thu thap duoc trong tung chau luc va tong so:")
length(table(data$continent))
table(data$continent)
table(data$continent)
# 5/ So luong du lieu thu thap duoc trong tung dat nuoc va tong so
tail(table(data$iso_code),10)
sum(table(data$iso_code))
# 6/ Chau luc co luong du lieu thu thap nho nhat
which.min(table(data$continent))
# 4/ So luong du lieu thu thap duoc trong tung chau luc va tong so
cat("So luong du lieu thu thap duoc trong tung chau luc va tong so:")
length(table(data$continent))
table(data$continent)
# 5/ So luong du lieu thu thap duoc trong tung dat nuoc va tong so
tail(table(data$iso_code),10)
sum(table(data$iso_code))
# 6/ Chau luc co luong du lieu thu thap nho nhat
which.min(table(data$continent))
min(table(data$continent))
source("D:/Khanh/BK/HK212/Discrete Structures/CODE/IV.R", echo=TRUE)
source("D:/Khanh/BK/HK212/Discrete Structures/CODE/II.R", echo=TRUE)
IQRnewcase2<-(Q_newcasecountry2[[4]] - Q_newcasecountry2[[2]])
lower_newcase2<-(Q_newcasecountry2[[2]] - 1.5 * IQRnewcase2)
upper_newcase2<-(Q_newcasecountry2[[4]] + 1.5 * IQRnewcase2)
outlier_newcase2<-subset(c2_data, c2_data$new_cases < lower_newcase2 | c2_data$new_cases > upper_newcase2)
count_outlier_newcase2<-sum(table(outlier_newcase2))
cat("Slovenia's new cases - Outlier: ", count_outlier_newcase2, '\n')
IQRnewdeath2<-(Q_newdeathcountry2[[4]] - Q_newdeathcountry2[[2]])
lower_newdeath2<-(Q_newdeathcountry2[[2]] - 1.5 * IQRnewdeath2)
upper_newdeath2<-(Q_newdeathcountry2[[4]] + 1.5 * IQRnewdeath2)
outlier_newdeath2<-subset(c2_data, c2_data$new_deaths < lower_newdeath2 | c2_data$new_deaths > upper_newdeath2)
count_outlier_newdeath2<-sum(table(outlier_newdeath2))
cat("Slovenia's new deaths - Outlier: ", count_outlier_newdeath2, '\n')
#2/So luong dat nuoc va dinh danh
length(table(data$iso_code))
head(table(data$iso_code),10)
# Set Library
library("tidyverse")
library("plyr")
library("dplyr")
library("moments")
library("csv")
library("csvread")
library("readr")
library("rlist")
library("lubridate")
# Set Data
setwd("D:/Khanh/BK/HK212/Discrete Structures/CODE")      # path
data<-read_csv("owid-covid-data.csv")     # data
iso_code<-data[["iso_code"]]              # iso_code
continent<-data[["continent"]]            # continent
location<-data[["location"]]              # location
date<-data[["date"]]                      # date
new_cases<-data[["new_cases"]]            # new_cases
new_deaths<-data[["new_deaths"]]          # new_deaths
national<-c("Andorra", "Slovenia", "United Kingdom")
c1_data<-subset(data, location == national[1] & new_cases >= 0 & new_deaths >= 0)
c2_data<-subset(data, location == national[2] & new_cases >= 0 & new_deaths >= 0)
c3_data<-subset(data, location == national[3] & new_cases >= 0 & new_deaths >= 0)
#1/Du lieu duoc thu thap vao cac nam
date<-mdy(data$date)
max(format(date,format="%Y"))
min(format(date,format="%Y"))
#2/So luong dat nuoc va dinh danh
length(table(data$iso_code))
head(table(data$iso_code),10)
#5/So luong du lieu thu thap duoc trong tung dat nuoc va tong so
tail(table(data$iso_code),10)
#2/So luong dat nuoc va dinh danh
length(table(data$iso_code))
head(table(data$iso_code),10)
#4/So luong du lieu thu thap duoc trong tung chau luc va tong so
length(table(data$continent))
table(data$continent)
#5/So luong du lieu thu thap duoc trong tung dat nuoc va tong so
tail(table(data$iso_code),10)
sum(table(data$iso_code))
#6/Chau luc co luong du lieu thu thap nho nhat
which.min(table(data$continent))
